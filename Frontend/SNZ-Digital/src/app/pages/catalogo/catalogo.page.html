<ion-content [fullscreen]="true">  
  <app-header></app-header>  
  <app-carrusel></app-carrusel>  

  <div class="layout">  
    <div class="category-menu-container">  
      <div class="category-menu">  
        <button   
          class="menu-item"   
          *ngFor="let categoria of categorias"   
          (click)="seleccionarCategoria(categoria)"  
          [ngClass]="{'selected': selectedCategory === categoria}"   >  
          {{ categoria.catName }} <!-- Muestra el nombre de la categoría -->  
        </button>  
      </div>  
    </div>  

    <!-- Contenido principal -->  
    <div class="main-content">  
      <h2>Productos de la Categoría Seleccionada</h2>  

      <div *ngIf="productosSeleccionados.length > 0; else noProducts">  
        <div class="productos-container"> <!-- Cambia ion-list a un contenedor div -->  
          <div class="producto-card" *ngFor="let producto of productosSeleccionados" (click)="irADetalleProducto(producto.productId)">  
            <div>
              <img [src]="producto.imagen ? 'data:image/png;base64,' + producto.imagen : 'assets/img/default.jpg'" 
                   alt="Imagen del Producto" 
                   class="image-preview">  
            </div>
            <div class="producto-info">  
              <h3>{{ producto.productName }}</h3>  
             <!-- <p>{{ producto.descripcion }}</p>  -->  
              <p>Precio: {{ producto.precio | currency }}</p>  

              <!-- Botones de acción -->  
              <div class="botones-container">
                <button class="custom-button12" (click)="agregarAlCarrito(producto); $event.stopPropagation()">
                  <i class="fas fa-shopping-cart"></i> Agregar al carrito
                </button>
                <button class="custom-button" (click)="comprarAhora(producto); $event.stopPropagation()">
                  <i class="fas fa-money-bill-wave"></i> Comprar ahora
                </button>
              </div>
            </div> 
          </div>  
        </div>  
      </div>   

      <ng-template #noProducts>  
        <p>No hay productos disponibles para esta categoría.</p>  
      </ng-template>  
    </div>
 
  </div>  

  <app-footer></app-footer>  
</ion-content>